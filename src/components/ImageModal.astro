---

---

<!-- Modal (Global) -->
<div
  id="modal"
  class="fixed inset-0 z-50 bg-black/80 flex items-center justify-center hidden"
  onclick="if(event.target === this) closeModal()"
>
  <button
    onclick="closeModal()"
    class="absolute top-4 right-4 text-white text-6xl font-bold cursor-pointer"
    >×</button
  >
  <img
    id="modal-img"
    class="max-h-[90vh] max-w-[90vw] rounded-lg shadow-lg object-contain"
    src=""
    alt="Modal image"
  />
  <button
    onclick="prevImage()"
    class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl font-bold px-3 hover:scale-110 transition cursor-pointer hidden xl:block"
    >←</button
  >
  <button
    onclick="nextImage()"
    class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl font-bold px-3 hover:scale-110 transition cursor-pointer hidden xl:block"
    >→</button
  >
</div>

<!-- Modal Script -->
<script is:inline>
  let currentIdx = 0;
  let currentTag = "";

  const modal = document.getElementById("modal");
  const modalImg = document.getElementById("modal-img");

  function openModal(tag, index) {
    currentIdx = index;
    currentTag = tag;
    updateImgSrc();
    modal.classList.remove("hidden");
    document.body.style.overflow = "hidden";
  }

  function closeModal() {
    modal.classList.add("hidden");
    document.body.style.overflow = "";
  }

  function prevImage() {
    currentIdx = (currentIdx - 1 + 3) % 3;
    updateImgSrc();
  }

  function nextImage() {
    currentIdx = (currentIdx + 1) % 3;
    updateImgSrc();
  }

  function updateImgSrc() {
    let id = "img-" + currentTag + "-" + currentIdx;
    modalImg.src = document.getElementById(id).src;
  }

  // Optional: Close on Escape
  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
    if (e.key === "ArrowLeft") prevImage();
    if (e.key === "ArrowRight") nextImage();
  });
</script>
